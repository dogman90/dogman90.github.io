---
title: 6. 재귀호출 (1) - 팩토리얼
date: 2018-11-10T17:29:45+09:00
author: SWnomad
layout: post
categories: 알고리즘
image: /images/2018/11/algorithm-thumbnail.jpg
tags:
  - factorial
  - recursion
  - 알고리즘
  - 재귀호출
  - 파이썬
  - 팩토리얼
---
# 1. 문제 정의

* * *

<img class="aligncenter  wp-image-1309" src="/images/2018/11/no-name-4.jpg" alt="" width="630" height="160" srcset="/images/2018/11/no-name-4.jpg 771w, /images/2018/11/no-name-4-300x76.jpg 300w, /images/2018/11/no-name-4-768x195.jpg 768w" sizes="(max-width: 630px) 100vw, 630px" /> 

n! 은 n 팩토리얼 이라 부르며 1부터 n까지의 정수를 모두 곱한 값이다.

0! = 1로 약속되어 있다.

정수가 아닌 실수, 음수에 대해서는 팩토리얼이 정의되지 않는다.

위의 조건들을 가지고 정수 n을 넣으면 n!을 돌려주는 알고리즘을 만들어본다.

&nbsp;

&nbsp;

# 2. 재귀호출

* * *

재귀호출 (Recursion)은 어떤 함수가 자신을 다시 호출하는 것을 말한다.

재귀호출을 사용할 때 주의해야 할 것은 **호출 종료 조건을 반드시 포함**시키는 것이다.

가령 다음과 같은 잘못된 재귀호출 사례가 있다.

~~~ python
def hello():
    print("hello") # 'hello'를 호출하고
    hello() # 자신을 다시 호출

hello()
~~~

위 코드에서 hello() 함수를 호출하면 &#8216;hello&#8217;를 한 번 출력해주고 다시 자기자신을 호출한다. 그럼 또 &#8216;hello&#8217;가 출력되고, 다시 또 자신을 호출한다. 이 함수는 영원히 끝나지 않고 반복되는 로직이다. 다만 메모리공간 사용에는 한계가 있으므로 재귀 에러를 내며 함수가 종료된다.

&nbsp;

&nbsp;

# 3. 알고리즘

* * *

## 1) 재귀호출을 사용하지 않은 알고리즘

재귀 호출을 사용하지 않고 다음과 같은 방식으로 알고리즘을 만들 수 있다.

~~~ python
def fac(n):
    if n==0:
        return 1
    elif n>0 and type(n) is int:
        s = 1
        for i in range(1,n+1): # i는 1~n
            s = s*i # i를 곱한 값으로 s를 업데이트
        return s # s 반환
    else:
        return 'Wrong input. Please give me zero or positive integer'

print(fac(5)) # 5*4*3*2*1 = 120
print(fac(-4)) # 음의 정수 : 에러 구문 출력
print(fac(5.1)) # 정수가 아닌 실수 : 에러 구문 출력
~~~

&nbsp;

&nbsp;

## 2) 재귀호출 알고리즘

~~~ python
def fac(n):
    if n>0 and type(n)==int: # 0보다 큰 정수면
        return n*fac(n-1) # n 곱하기 fac(n-1). 함수 자신을 다시 호출
    elif n==0: # n이 0이 되면
        return 1 # 1 반환하고 더 이상 호출하지 않는다.
    else: # 양의 정수 혹은 0이 아닌 수가 입력되면 에러 구문 출력
        return 'Wrong input. Please give me zero or positive integer'

print(fac(5)) # 5*4*3*2*1 = 120
print(fac(-4)) # 음의 정수 : 에러 구문 출력
print(fac(5.1)) # 정수가 아닌 실수 : 에러 구문 출력
~~~

위의 재귀호출 알고리즘은 다음의 순서로 실행이 된다.

1. fac(n)은 n*fac(n-1) 이므로 fac(n-1) 다시 호출

2. fac(n-1)은 (n-1)*fac(n-2) 이므로 fac(n-2) 다시 호출

3. n이 1이 되기 전까지 위의 과정 반복하다가 n이 1이 되면 fac(1) = 1*fac(0)이므로 fac(0) 호출

4. n이 0이므로 return 1

&nbsp;

&nbsp;

4. 알고리즘 효율

* * *

위의 두 알고리즘에서 가장 중요한 연산은 모두 곱셈 이다.

### 알고리즘 1)

곱셈 n-1 번 필요

&nbsp;

### 알고리즘 2)

0!=1을 포함하므로 위의 알고리즘보다 곱셈을 한 번 더 하므로, 곱셈 n번 필요

&nbsp;

따라서 두 알고리즘 모두 시간 복잡도 O(n)을 따른다.