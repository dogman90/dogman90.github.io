---
title: (운영체제) 8 - 가상 메모리의 기초 연습문제
date: 2020-04-06T14:37:19+09:00
author: nobbaggu
layout: post
categories: 운영체제(OS)
tags:
  - 운영체제
  - os
  - 프로세스
  - 스레드
  - CPU
  - 메모리
  - 가상
  - 매핑
  - 테이블
  - 페이지
  - 세그먼트
  - 세그먼테이션
---

### 연습문제 ###
----

**1. 가상 메모리에서 메모리 관리자가 사용할 수 있는 전체 크기는 어떻게 결정되는가?**

물리 메모리의 크기와 스왑 영역을 합친 크기

<br>
**2. 가상 주소에서 하나의 프로세스가 사용할 수 있는 최대 주소는 무엇과 연관이 있는가?**

CPU의 워드 비트 수

<br>
**3. 가상 메모리에서 가상 주소를 물리 주소로 변환하기 위해 사용하는 자료 구조를 무엇이라 하는가?**

주소 매핑 테이블

<br>
**4. 페이징 기법의 주소 변환 과정 식을 쓰시오.**

CPU가 VA = <P,D>를 발생시키면 페이지 테이블을 통해 프레임 번호를 획득하면 실제 물리 메모리 주소 PA = <F,D>가 된다. 해당 프레임의 시작 주소에서 D만큼 떨어진 위치가 실제 물리메모리 주소이다.

<br>
**5. 페이지 테이블에서 각각의 한 줄을 무엇이라 하는가?**

페이지 테이블 엔트리(entry)

<br>
**6. 가상 주소를 <P,D>로 변환하는 공식을 쓰시오.**

페이지 엔트리 수로 가상 주소를 나누었을 때 몫이 P이고 나머지가 D다.

<br>
**7. 각 페이지 테이블의 시작 주소를 가지고 있는 레지스터는 무엇인가?**

페이지 테이블 기준 레지스터(Page Table Base Register)

<br>
**8. 페이지 테이블 매핑 방식 중, 모든 페이지 테이블을 스왑 영역에 저장하고 그중 일부만 물리 메모리에 무작위로 가지고 있는 방식은 무엇인가?**

연관 매핑(associative mapping)

<br>
**9. 페이지 테이블 매핑 방식 중, 모든 페이지 테이블을 물리 메모리에 보관하는 방식은 무엇인가?**

직접 매핑(direct mapping)

<br>
**10. 페이지 테이블 매핑 방식 중, 모든 페이지 테이블을 스왑 영역에 저장하고 페이지 테이블을 일정한 집합 단위로 물리 메모리에 보관하는 방식은 무엇인가?**

집합 연관 매핑(set-associative mapping)

<br>
**11. 페이지 테이블 매핑 방식 중, 물리 메모리의 프레임 번호를 기준으로 테이블을 구성하는 방식은 무엇인가?**

역매핑(invert mapping)

<br>
**12. 연관 매핑 방식에서 사용하는 테이블의 이름은 무엇인가?**

변환 색인 버퍼(Translation Look-aside Buffer - TLB)

<br>
**13. 연관 매핑에서 원하는 데이터가 변환 색인 버퍼에 없는 상태를 무엇이라 하는가?**

TLB miss

<br>
**14. 연관 매핑에서는 전체 매핑 테이블을 어디에 보관하는가?**

스왑 영역

<br>
**15. 가상 메모리에서 메모리 관리자는 물리 메모리 영역과 스왑 메모리 영역을 합쳐서 프로세스가 사용하는 가상 주소를 실제 메모리의 물리 주소로 변환한다. 이러한 작업을 무엇이라 하는가?**

동적 주소 변환

<br>
**16. 사용자 프로세스가 자신의 크기보다 더 큰 주소에 접근하려고 하면 메모리 관리자는 그 프로세스를 강제 종료한다. 이때 발생하는 오류를 무엇이라 하는가?**

트랩(trap) - 메모리 오류, 0으로 나누기 등에 의한 내부 인터럽트

<br>
**17. 세그먼테이션-페이징 혼용 기법에서는 접근 권한을 어디에서 관리하는가?**

세그먼테이션 테이블

<br>
### 심화문제 ###
----

**1. 가상 메모리가 이론적으로 가질 수 있는 크기와 실제 운영되는 크기는 어떤 차이가 있는지 설명하시오.**

+ 이론적으로는 CPU의 비트수가 표현할 수 있는 번지수 만큼 가질 수 있다. 예를들어 32bit CPU에서는 2^32개의 번지수를 가질 수 있으며 한 번지당 1바이트 크기라 하면 4GB를 가질 수 있다.

+ 실제로는 실제 물리 메모리와 디스크 스왑 영역의 크기를 합친 만큼의 메모리 주소를 사용할 수 있다.

<br>
**2. 페이징 기법의 주소 변환 과정을 그림으로 그리고 설명하시오.**

![deep_problem_2](https://nobbaggu.github.io/images/operating_systems/8/deep_problem_2.png){: width="50%" height="50%"}

<br>
**3. 연관 매핑의 동작을 설명하시오**

	a) 변환 색인 버퍼(TLB)를 순차적으로 탐색
	
	b) 있으면 프레임 번호 획득, 없으면 스왑 영역의 직접 매핑 테이블에서 프레임 번호 획득
	
	c) 해당 프레임의 시작 주소부터 오프셋 만큼 떨어진 번지의 데이터 획득
	
<br>
**4. 집합-연관 매핑의 동작을 설명하시오.*8

	a) 집합 테이블을 통해 해당 페이지 테이블 덩어리가 메모리에 있는지 스왑 영역에 있는지 파악 후 해당 페이지 테이블로 이동
	
	b) 프레임 번호 획득
	
	c) 물리주소 계산 후 데이터 획득
	
<br>
**5. 역매핑의 동작을 설명하시오.**

	a) 역매핑 테이블을 순차적으로 탐색하여 PID와 페이지 번호를 확인
	
	b) 찾을 때 까지 검색하여 프레임 번호 획득
	
	c) 물리주소 계산 후 데이터 획득
	
<br>
**6. 세그먼테이션-페이징 혼용 기법을 사용하는 이유를 설명하시오.**

+ 인접한 테이블의 중복되는 권한 비트(그리고 소유 비트)를 없애 메모리 효율을 높일 수 있다.

+ 메모리 관리자 입장에서는 고정 분할 방식을 사용하므로 외부 단편화를 없앨 수 있다.